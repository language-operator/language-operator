#!/usr/bin/env ruby
# frozen_string_literal: true

# Load from the application directory
$LOAD_PATH.unshift('/app/dashboard/lib')
require 'dashboard_server'

# Get configuration from environment
cluster_name = ENV.fetch('CLUSTER_NAME', 'default')
namespace = ENV.fetch('NAMESPACE', 'default')
port = ENV.fetch('PORT', '8080').to_i

# Start the dashboard server
server = LanguageOperator::Dashboard::Server.new(
  cluster_name: cluster_name,
  namespace: namespace,
  port: port
)

server.start
